{% load static %}
<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>{% block title %}Панель{% endblock %}</title>

  <script>
    (function() {
      const storedTheme = localStorage.getItem("theme");
      const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
      const theme = storedTheme || (prefersDark ? 'dark' : 'light');
      document.documentElement.setAttribute('data-theme', theme);
      window.addEventListener("storage", (e) => {
        if (e.key === "theme") document.documentElement.setAttribute('data-theme', e.newValue || 'light');
      });
    })();
  </script>

  <!-- Admin / ваш UI -->
  <link rel="stylesheet" href="{% static 'admin/css/base.css' %}">
  <link rel="stylesheet" href="{% static 'admin/css/dark_mode.css' %}">

  <!-- Глобальные -->
  <link rel="stylesheet" href="{% static 'css/site/chart/layout/sidebar.css' %}">
  <link rel="stylesheet" href="{% static 'css/site/chart/core.css' %}">


  {% block head_extra %}{% endblock %}
</head>
<body>
  {% include 'html/site/sidebar.html' %}
  <main class="app-main">
    {% block content %}{% endblock %}
  </main>
</body>
</html>
